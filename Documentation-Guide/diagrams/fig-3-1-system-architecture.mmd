flowchart TD
    subgraph Users["Users"]
        U1["Requester"]
        U2["RM / Controller"]
        U3["CS / AR / NBS"]
        U4["Admin"]
    end

    subgraph PowerPlatform["Power Platform"]
        PA["Power Apps<br/>Canvas App"]
        PF["Power Automate<br/>7 Notification Flows"]
    end

    subgraph DataLayer["Data Layer"]
        DV["Microsoft Dataverse<br/>CustomerDataRequest<br/>L6Segmentation<br/>Roles<br/>File Attachments"]
    end

    subgraph External["External Systems"]
        SAP["SAP<br/>Customer Master"]
        EMAIL["Email Service<br/>Notifications"]
    end

    U1 --> PA
    U2 --> PA
    U3 --> PA
    U4 --> PA
    PA <--> DV
    PA --> PF
    PF --> EMAIL
    DV -.-> SAP

    style PA fill:#e7f3ff,stroke:#0066b3,stroke-width:2px
    style PF fill:#fff3e0,stroke:#ff9800
    style DV fill:#d4edda,stroke:#28a745
    style SAP fill:#f5f5f5,stroke:#9e9e9e
    style EMAIL fill:#f5f5f5,stroke:#9e9e9e
